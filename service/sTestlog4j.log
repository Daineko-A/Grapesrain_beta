2017-07-17 21:26:55,200 INFO  - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-07-17 21:26:55,221 INFO  - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
2017-07-17 21:26:55,254 INFO  - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@17fd0e6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1c62251, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6fa38a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a3ffec, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1caeb3e]
2017-07-17 21:26:55,666 INFO  - Refreshing org.springframework.context.support.GenericApplicationContext@e81285: startup date [Mon Jul 17 21:26:55 MSK 2017]; root of context hierarchy
2017-07-17 21:26:56,629 INFO  - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=by.grapesrain.config.ConfigDB; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in by.grapesrain.config.ConfigDB] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=testConfigServices; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in by.grapesrain.config.TestConfigServices]
2017-07-17 21:26:59,131 INFO  - HHH000412: Hibernate Core {5.2.10.Final}
2017-07-17 21:26:59,134 INFO  - HHH000206: hibernate.properties not found
2017-07-17 21:26:59,220 INFO  - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-07-17 21:26:59,676 INFO  - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2017-07-17 21:27:01,348 INFO  - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@186333e'
2017-07-17 21:27:01,774 INFO  - Using DataSource [ds0: url=jdbc:h2:mem:kingdom;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1 user=sa] of Hibernate SessionFactory for HibernateTransactionManager
2017-07-17 21:27:02,224 INFO  - Began transaction (1) for test context [DefaultTestContext@9e0271 testClass = UserServiceImplTest, testInstance = by.grapesrain.services.UserServiceImplTest@93b344, testMethod = getDepartamentBylogin@UserServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@196e6d9 testClass = UserServiceImplTest, locations = '{}', classes = '{class by.grapesrain.config.TestConfigServices}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:database.properties}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@f32020]; rollback [true]
2017-07-17 21:27:02,241 INFO  - vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv
2017-07-17 21:27:02,241 INFO  - DepartamentServiceImpl
2017-07-17 21:27:02,244 INFO  - save
2017-07-17 21:27:02,245 INFO  - ---> Departament(super=BaseEntity(id=0), name=test, version=null)
2017-07-17 21:27:02,247 INFO  - ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2017-07-17 21:27:02,303 INFO  - vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv
2017-07-17 21:27:02,304 INFO  - DepartamentServiceImpl
2017-07-17 21:27:02,312 INFO  - allDepartaments
2017-07-17 21:27:02,312 INFO  - ---> void
2017-07-17 21:27:02,312 INFO  - ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2017-07-17 21:27:02,349 INFO  - HHH000397: Using ASTQueryTranslatorFactory
2017-07-17 21:27:02,674 INFO  - vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv
2017-07-17 21:27:02,674 INFO  - UserServiceImpl
2017-07-17 21:27:02,674 INFO  - save
2017-07-17 21:27:02,675 INFO  - ---> User(super=BaseEntity(id=0), firstName=asd, lastName=qwe, login=zxc, password=123, email=qwe@awde.df, departament=Departament(super=BaseEntity(id=1), name=test, version=0), userCard=null, version=null)
2017-07-17 21:27:02,675 INFO  - ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2017-07-17 21:27:02,700 INFO  - vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv
2017-07-17 21:27:02,701 INFO  - UserServiceImpl
2017-07-17 21:27:02,701 INFO  - getDepartamentBylogin
2017-07-17 21:27:02,701 INFO  - ---> zxc
2017-07-17 21:27:02,701 INFO  - ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2017-07-17 21:27:02,763 WARN  - SQL Error: 23502, SQLState: 23502
2017-07-17 21:27:02,764 ERROR - NULL not allowed for column "role_id"; SQL statement:
insert into users_roles (user_id, role_id) values (?, ?) [23502-195]
2017-07-17 21:27:02,768 INFO  - HHH000010: On release of batch it still contained JDBC statements
2017-07-17 21:27:02,792 INFO  - Rolled back transaction for test context [DefaultTestContext@9e0271 testClass = UserServiceImplTest, testInstance = by.grapesrain.services.UserServiceImplTest@93b344, testMethod = getDepartamentBylogin@UserServiceImplTest, testException = javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [MergedContextConfiguration@196e6d9 testClass = UserServiceImplTest, locations = '{}', classes = '{class by.grapesrain.config.TestConfigServices}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:database.properties}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-07-17 21:27:02,821 INFO  - Closing org.springframework.context.support.GenericApplicationContext@e81285: startup date [Mon Jul 17 21:26:55 MSK 2017]; root of context hierarchy
